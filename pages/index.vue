/* eslint-disable camelcase */ /* eslint-disable no-console */
<template>
  <div class="max-w-3xl px-4 mx-auto sm:px-6 xl:max-w-5xl xl:px-0">
    <div class="flex flex-col justify-between h-screen">
      <main class="mb-auto">
        <div class="divide-y divide-gray-200 dark:divide-gray-700">
          <div class="pt-6 pb-8 space-y-2 md:space-y-5">
            <h1>Digital Olympics - Data Visualization</h1>
            <p>
              Visualizing relationships between federal DoD funding, stock price
              and Google search trends for America's
              <a
                href="https://about.bgov.com/top-defense-contractors/"
                target="_blank"
                >top defense contractors</a
              >. Trends calculated using the
              <a
                href="https://en.wikipedia.org/wiki/Pearson_correlation_coefficient"
                target="_blank"
                >Pearson correlation coefficient</a
              >.
            </p>

            <p
              style="
                font-family: 'Libre Barcode 39 Text', Serif;
                font-size: 15px;
              "
            >
              Dakota Wray - IWS 12
            </p>
            <p>
              Data from
              <a href="https://www.usaspending.gov/" target="_blank"
                >USASpending.gov</a
              >
              Public API,
              <a
                href="https://rapidapi.com/apidojo/api/yahoo-finance1"
                target="_blank"
                >Yahoo Finance</a
              >
              API and
              <a
                href="https://trends.google.com/trends/?geo=US"
                target="_blank"
              >
                Google search trends</a
              >
              data.
            </p>
            <p>
              Built with <a href="https://vuejs.org/" target="_blank">VueJS</a>,
              <a href="https://www.netlify.com/" target="_blank">Netlify</a>,
              <a href="https://lodash.com/" target="_blank">Lodash</a>,
              <a href="https://nuxtjs.org/" target="_blank">Nuxt</a> and
              <a href="https://vue-chartjs.org/" target="_blank">vue-chartjs</a
              >. View my code
              <a
                href="https://github.com/DakotaWray2/Digital_Olympics"
                target="_blank"
                >here</a
              >.
            </p>
          </div>
          <ul
            style="border-color: #ffd300"
            class="divide-y divide-gray-200 dark:divide-gray-700"
          >
            <li
              v-for="(contractor, index) in contractors"
              :key="index"
              class="py-12"
              style="border-color: #ffd300 !important"
            >
              <article>
                <div
                  class="space-y-2 xl:grid xl:grid-cols-4 xl:space-y-0 xl:items-baseline"
                >
                  <dl>
                    <dd>
                      <h1 class="subhead">{{ contractor.Name }}</h1>
                    </dd>
                  </dl>
                  <div class="space-y-5 xl:col-span-3">
                    {{ contractor.Text }}
                    <br />
                    <div class="grid grid-cols-2 gap-12">
                      <div>
                        <client-only>
                          <div>
                            <my-scatter
                              v-if="showLine"
                              :height="180"
                              :mydata="scatterData1[index]"
                            ></my-scatter>
                          </div>
                        </client-only>
                        <p>
                          <span
                            :style="[
                              contractor.Trend1 === 'Positive'
                                ? { color: '#00ff9f' }
                                : { color: '#ff1900' },
                            ]"
                            >{{ contractor.Trend1 }}
                          </span>
                          correlation between search trends and
                          {{ contractor.Ticker }}'s stock price. (r =
                          {{ contractor.Pearson1 }})
                        </p>
                      </div>
                      <div>
                        <client-only>
                          <my-scatter
                            v-if="showLine"
                            :height="180"
                            :mydata="scatterData2[index]"
                          ></my-scatter>
                        </client-only>
                        <p>
                          <span
                            :style="[
                              contractor.Trend2 === 'Positive'
                                ? { color: '#00ff9f' }
                                : { color: '#ff1900' },
                            ]"
                            >{{ contractor.Trend2 }}
                          </span>
                          correlation between federal DoD funding and
                          {{ contractor.Ticker }}'s stock price. (r =
                          {{ contractor.Pearson2 }})
                        </p>
                      </div>
                    </div>
                    <client-only>
                      <my-line
                        v-if="showLine"
                        :width="70"
                        :height="35"
                        :mydata="lineData[index]"
                      >
                      </my-line>
                    </client-only>
                  </div>
                </div>
              </article>
            </li>
          </ul>
        </div>
      </main>
    </div>
  </div>
</template>

<script>
import _ from 'lodash'
export default {
  data() {
    return {
      scatterData1: [
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
      ],
      scatterData2: [
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
        {
          datasets: [
            {
              data: [],
              pointBackgroundColor: '#ffd300',
              pointBorderColor: '#ffb700',
              pointRadius: 1.5,
              backgroundColor: '#ffd300',
            },
          ],
        },
      ],
      lineData: [
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 97 },
                { x: '2012-03', y: 85 },
                { x: '2012-04', y: 86 },
                { x: '2012-05', y: 86 },
                { x: '2012-06', y: 96 },
                { x: '2012-07', y: 84 },
                { x: '2012-08', y: 88 },
                { x: '2012-09', y: 81 },
                { x: '2012-10', y: 83 },
                { x: '2012-11', y: 87 },
                { x: '2012-12', y: 61 },
                { x: '2013-01', y: 68 },
                { x: '2013-02', y: 69 },
                { x: '2013-03', y: 76 },
                { x: '2013-04', y: 76 },
                { x: '2013-05', y: 68 },
                { x: '2013-06', y: 68 },
                { x: '2013-07', y: 68 },
                { x: '2013-08', y: 69 },
                { x: '2013-09', y: 67 },
                { x: '2013-10', y: 75 },
                { x: '2013-11', y: 75 },
                { x: '2013-12', y: 60 },
                { x: '2014-01', y: 67 },
                { x: '2014-02', y: 82 },
                { x: '2014-03', y: 70 },
                { x: '2014-04', y: 77 },
                { x: '2014-05', y: 74 },
                { x: '2014-06', y: 75 },
                { x: '2014-07', y: 74 },
                { x: '2014-08', y: 72 },
                { x: '2014-09', y: 76 },
                { x: '2014-10', y: 100 },
                { x: '2014-11', y: 86 },
                { x: '2014-12', y: 66 },
                { x: '2015-01', y: 78 },
                { x: '2015-02', y: 81 },
                { x: '2015-03', y: 82 },
                { x: '2015-04', y: 79 },
                { x: '2015-05', y: 74 },
                { x: '2015-06', y: 81 },
                { x: '2015-07', y: 94 },
                { x: '2015-08', y: 80 },
                { x: '2015-09', y: 78 },
                { x: '2015-10', y: 83 },
                { x: '2015-11', y: 77 },
                { x: '2015-12', y: 63 },
                { x: '2016-01', y: 66 },
                { x: '2016-02', y: 69 },
                { x: '2016-03', y: 68 },
                { x: '2016-04', y: 63 },
                { x: '2016-05', y: 63 },
                { x: '2016-06', y: 67 },
                { x: '2016-07', y: 65 },
                { x: '2016-08', y: 67 },
                { x: '2016-09', y: 62 },
                { x: '2016-10', y: 59 },
                { x: '2016-11', y: 61 },
                { x: '2016-12', y: 82 },
                { x: '2017-01', y: 72 },
                { x: '2017-02', y: 77 },
                { x: '2017-03', y: 68 },
                { x: '2017-04', y: 70 },
                { x: '2017-05', y: 68 },
                { x: '2017-06', y: 70 },
                { x: '2017-07', y: 80 },
                { x: '2017-08', y: 81 },
                { x: '2017-09', y: 69 },
                { x: '2017-10', y: 80 },
                { x: '2017-11', y: 64 },
                { x: '2017-12', y: 68 },
                { x: '2018-01', y: 73 },
                { x: '2018-02', y: 77 },
                { x: '2018-03', y: 74 },
                { x: '2018-04', y: 84 },
                { x: '2018-05', y: 73 },
                { x: '2018-06', y: 70 },
                { x: '2018-07', y: 69 },
                { x: '2018-08', y: 81 },
                { x: '2018-09', y: 79 },
                { x: '2018-10', y: 88 },
                { x: '2018-11', y: 72 },
                { x: '2018-12', y: 69 },
                { x: '2019-01', y: 81 },
                { x: '2019-02', y: 83 },
                { x: '2019-03', y: 78 },
                { x: '2019-04', y: 81 },
                { x: '2019-05', y: 73 },
                { x: '2019-06', y: 74 },
                { x: '2019-07', y: 80 },
                { x: '2019-08', y: 74 },
                { x: '2019-09', y: 77 },
                { x: '2019-10', y: 81 },
                { x: '2019-11', y: 71 },
                { x: '2019-12', y: 65 },
                { x: '2020-01', y: 95 },
                { x: '2020-02', y: 80 },
                { x: '2020-03', y: 89 },
                { x: '2020-04', y: 73 },
                { x: '2020-05', y: 62 },
                { x: '2020-06', y: 70 },
                { x: '2020-07', y: 64 },
                { x: '2020-08', y: 62 },
                { x: '2020-09', y: 63 },
                { x: '2020-10', y: 61 },
                { x: '2020-11', y: 51 },
                { x: '2020-12', y: 58 },
                { x: '2021-01', y: 63 },
                { x: '2021-02', y: 60 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              borderWidth: 2,
              pointRadius: 0,
              pointHoverRadius: 0,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 24 },
                { x: '2012-03', y: 21 },
                { x: '2012-04', y: 22 },
                { x: '2012-05', y: 21 },
                { x: '2012-06', y: 22 },
                { x: '2012-07', y: 21 },
                { x: '2012-08', y: 20 },
                { x: '2012-09', y: 20 },
                { x: '2012-10', y: 19 },
                { x: '2012-11', y: 20 },
                { x: '2012-12', y: 17 },
                { x: '2013-01', y: 25 },
                { x: '2013-02', y: 21 },
                { x: '2013-03', y: 20 },
                { x: '2013-04', y: 21 },
                { x: '2013-05', y: 21 },
                { x: '2013-06', y: 21 },
                { x: '2013-07', y: 33 },
                { x: '2013-08', y: 19 },
                { x: '2013-09', y: 19 },
                { x: '2013-10', y: 20 },
                { x: '2013-11', y: 25 },
                { x: '2013-12', y: 20 },
                { x: '2014-01', y: 23 },
                { x: '2014-02', y: 19 },
                { x: '2014-03', y: 34 },
                { x: '2014-04', y: 20 },
                { x: '2014-05', y: 19 },
                { x: '2014-06', y: 20 },
                { x: '2014-07', y: 26 },
                { x: '2014-08', y: 20 },
                { x: '2014-09', y: 21 },
                { x: '2014-10', y: 18 },
                { x: '2014-11', y: 18 },
                { x: '2014-12', y: 18 },
                { x: '2015-01', y: 19 },
                { x: '2015-02', y: 18 },
                { x: '2015-03', y: 19 },
                { x: '2015-04', y: 20 },
                { x: '2015-05', y: 18 },
                { x: '2015-06', y: 23 },
                { x: '2015-07', y: 21 },
                { x: '2015-08', y: 22 },
                { x: '2015-09', y: 21 },
                { x: '2015-10', y: 20 },
                { x: '2015-11', y: 18 },
                { x: '2015-12', y: 17 },
                { x: '2016-01', y: 18 },
                { x: '2016-02', y: 20 },
                { x: '2016-03', y: 19 },
                { x: '2016-04', y: 18 },
                { x: '2016-05', y: 17 },
                { x: '2016-06', y: 19 },
                { x: '2016-07', y: 19 },
                { x: '2016-08', y: 18 },
                { x: '2016-09', y: 17 },
                { x: '2016-10', y: 16 },
                { x: '2016-11', y: 16 },
                { x: '2016-12', y: 22 },
                { x: '2017-01', y: 17 },
                { x: '2017-02', y: 20 },
                { x: '2017-03', y: 18 },
                { x: '2017-04', y: 18 },
                { x: '2017-05', y: 18 },
                { x: '2017-06', y: 20 },
                { x: '2017-07', y: 19 },
                { x: '2017-08', y: 20 },
                { x: '2017-09', y: 17 },
                { x: '2017-10', y: 19 },
                { x: '2017-11', y: 18 },
                { x: '2017-12', y: 19 },
                { x: '2018-01', y: 24 },
                { x: '2018-02', y: 23 },
                { x: '2018-03', y: 23 },
                { x: '2018-04', y: 22 },
                { x: '2018-05', y: 22 },
                { x: '2018-06', y: 21 },
                { x: '2018-07', y: 22 },
                { x: '2018-08', y: 22 },
                { x: '2018-09', y: 21 },
                { x: '2018-10', y: 23 },
                { x: '2018-11', y: 22 },
                { x: '2018-12', y: 19 },
                { x: '2019-01', y: 22 },
                { x: '2019-02', y: 24 },
                { x: '2019-03', y: 100 },
                { x: '2019-04', y: 43 },
                { x: '2019-05', y: 31 },
                { x: '2019-06', y: 30 },
                { x: '2019-07', y: 30 },
                { x: '2019-08', y: 26 },
                { x: '2019-09', y: 24 },
                { x: '2019-10', y: 28 },
                { x: '2019-11', y: 23 },
                { x: '2019-12', y: 33 },
                { x: '2020-01', y: 40 },
                { x: '2020-02', y: 27 },
                { x: '2020-03', y: 60 },
                { x: '2020-04', y: 48 },
                { x: '2020-05', y: 33 },
                { x: '2020-06', y: 39 },
                { x: '2020-07', y: 28 },
                { x: '2020-08', y: 22 },
                { x: '2020-09', y: 20 },
                { x: '2020-10', y: 21 },
                { x: '2020-11', y: 23 },
                { x: '2020-12', y: 22 },
                { x: '2021-01', y: 24 },
                { x: '2021-02', y: 20 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 94 },
                { x: '2012-03', y: 80 },
                { x: '2012-04', y: 95 },
                { x: '2012-05', y: 95 },
                { x: '2012-06', y: 91 },
                { x: '2012-07', y: 83 },
                { x: '2012-08', y: 91 },
                { x: '2012-09', y: 86 },
                { x: '2012-10', y: 88 },
                { x: '2012-11', y: 74 },
                { x: '2012-12', y: 59 },
                { x: '2013-01', y: 82 },
                { x: '2013-02', y: 94 },
                { x: '2013-03', y: 80 },
                { x: '2013-04', y: 77 },
                { x: '2013-05', y: 83 },
                { x: '2013-06', y: 81 },
                { x: '2013-07', y: 83 },
                { x: '2013-08', y: 88 },
                { x: '2013-09', y: 91 },
                { x: '2013-10', y: 91 },
                { x: '2013-11', y: 74 },
                { x: '2013-12', y: 75 },
                { x: '2014-01', y: 98 },
                { x: '2014-02', y: 77 },
                { x: '2014-03', y: 82 },
                { x: '2014-04', y: 75 },
                { x: '2014-05', y: 84 },
                { x: '2014-06', y: 77 },
                { x: '2014-07', y: 72 },
                { x: '2014-08', y: 76 },
                { x: '2014-09', y: 91 },
                { x: '2014-10', y: 100 },
                { x: '2014-11', y: 88 },
                { x: '2014-12', y: 70 },
                { x: '2015-01', y: 88 },
                { x: '2015-02', y: 98 },
                { x: '2015-03', y: 84 },
                { x: '2015-04', y: 79 },
                { x: '2015-05', y: 81 },
                { x: '2015-06', y: 76 },
                { x: '2015-07', y: 81 },
                { x: '2015-08', y: 94 },
                { x: '2015-09', y: 84 },
                { x: '2015-10', y: 81 },
                { x: '2015-11', y: 89 },
                { x: '2015-12', y: 72 },
                { x: '2016-01', y: 70 },
                { x: '2016-02', y: 78 },
                { x: '2016-03', y: 62 },
                { x: '2016-04', y: 63 },
                { x: '2016-05', y: 53 },
                { x: '2016-06', y: 72 },
                { x: '2016-07', y: 59 },
                { x: '2016-08', y: 64 },
                { x: '2016-09', y: 83 },
                { x: '2016-10', y: 67 },
                { x: '2016-11', y: 63 },
                { x: '2016-12', y: 67 },
                { x: '2017-01', y: 72 },
                { x: '2017-02', y: 78 },
                { x: '2017-03', y: 75 },
                { x: '2017-04', y: 74 },
                { x: '2017-05', y: 75 },
                { x: '2017-06', y: 67 },
                { x: '2017-07', y: 69 },
                { x: '2017-08', y: 72 },
                { x: '2017-09', y: 77 },
                { x: '2017-10', y: 80 },
                { x: '2017-11', y: 70 },
                { x: '2017-12', y: 68 },
                { x: '2018-01', y: 68 },
                { x: '2018-02', y: 88 },
                { x: '2018-03', y: 75 },
                { x: '2018-04', y: 77 },
                { x: '2018-05', y: 70 },
                { x: '2018-06', y: 78 },
                { x: '2018-07', y: 71 },
                { x: '2018-08', y: 75 },
                { x: '2018-09', y: 71 },
                { x: '2018-10', y: 80 },
                { x: '2018-11', y: 62 },
                { x: '2018-12', y: 57 },
                { x: '2019-01', y: 68 },
                { x: '2019-02', y: 65 },
                { x: '2019-03', y: 78 },
                { x: '2019-04', y: 71 },
                { x: '2019-05', y: 68 },
                { x: '2019-06', y: 72 },
                { x: '2019-07', y: 72 },
                { x: '2019-08', y: 71 },
                { x: '2019-09', y: 62 },
                { x: '2019-10', y: 67 },
                { x: '2019-11', y: 55 },
                { x: '2019-12', y: 53 },
                { x: '2020-01', y: 66 },
                { x: '2020-02', y: 62 },
                { x: '2020-03', y: 63 },
                { x: '2020-04', y: 53 },
                { x: '2020-05', y: 57 },
                { x: '2020-06', y: 55 },
                { x: '2020-07', y: 53 },
                { x: '2020-08', y: 58 },
                { x: '2020-09', y: 44 },
                { x: '2020-10', y: 48 },
                { x: '2020-11', y: 40 },
                { x: '2020-12', y: 48 },
                { x: '2021-01', y: 44 },
                { x: '2021-02', y: 55 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 56 },
                { x: '2012-03', y: 55 },
                { x: '2012-04', y: 58 },
                { x: '2012-05', y: 52 },
                { x: '2012-06', y: 54 },
                { x: '2012-07', y: 55 },
                { x: '2012-08', y: 49 },
                { x: '2012-09', y: 45 },
                { x: '2012-10', y: 59 },
                { x: '2012-11', y: 46 },
                { x: '2012-12', y: 37 },
                { x: '2013-01', y: 52 },
                { x: '2013-02', y: 58 },
                { x: '2013-03', y: 47 },
                { x: '2013-04', y: 52 },
                { x: '2013-05', y: 46 },
                { x: '2013-06', y: 47 },
                { x: '2013-07', y: 47 },
                { x: '2013-08', y: 53 },
                { x: '2013-09', y: 48 },
                { x: '2013-10', y: 53 },
                { x: '2013-11', y: 45 },
                { x: '2013-12', y: 36 },
                { x: '2014-01', y: 48 },
                { x: '2014-02', y: 45 },
                { x: '2014-03', y: 47 },
                { x: '2014-04', y: 50 },
                { x: '2014-05', y: 43 },
                { x: '2014-06', y: 52 },
                { x: '2014-07', y: 52 },
                { x: '2014-08', y: 43 },
                { x: '2014-09', y: 48 },
                { x: '2014-10', y: 52 },
                { x: '2014-11', y: 42 },
                { x: '2014-12', y: 38 },
                { x: '2015-01', y: 45 },
                { x: '2015-02', y: 48 },
                { x: '2015-03', y: 46 },
                { x: '2015-04', y: 48 },
                { x: '2015-05', y: 45 },
                { x: '2015-06', y: 45 },
                { x: '2015-07', y: 50 },
                { x: '2015-08', y: 48 },
                { x: '2015-09', y: 47 },
                { x: '2015-10', y: 53 },
                { x: '2015-11', y: 52 },
                { x: '2015-12', y: 45 },
                { x: '2016-01', y: 43 },
                { x: '2016-02', y: 42 },
                { x: '2016-03', y: 46 },
                { x: '2016-04', y: 43 },
                { x: '2016-05', y: 43 },
                { x: '2016-06', y: 40 },
                { x: '2016-07', y: 40 },
                { x: '2016-08', y: 41 },
                { x: '2016-09', y: 38 },
                { x: '2016-10', y: 42 },
                { x: '2016-11', y: 39 },
                { x: '2016-12', y: 35 },
                { x: '2017-01', y: 47 },
                { x: '2017-02', y: 46 },
                { x: '2017-03', y: 49 },
                { x: '2017-04', y: 72 },
                { x: '2017-05', y: 51 },
                { x: '2017-06', y: 47 },
                { x: '2017-07', y: 44 },
                { x: '2017-08', y: 50 },
                { x: '2017-09', y: 47 },
                { x: '2017-10', y: 49 },
                { x: '2017-11', y: 48 },
                { x: '2017-12', y: 39 },
                { x: '2018-01', y: 50 },
                { x: '2018-02', y: 49 },
                { x: '2018-03', y: 47 },
                { x: '2018-04', y: 54 },
                { x: '2018-05', y: 53 },
                { x: '2018-06', y: 54 },
                { x: '2018-07', y: 49 },
                { x: '2018-08', y: 53 },
                { x: '2018-09', y: 51 },
                { x: '2018-10', y: 54 },
                { x: '2018-11', y: 46 },
                { x: '2018-12', y: 43 },
                { x: '2019-01', y: 52 },
                { x: '2019-02', y: 51 },
                { x: '2019-03', y: 48 },
                { x: '2019-04', y: 56 },
                { x: '2019-05', y: 49 },
                { x: '2019-06', y: 100 },
                { x: '2019-07', y: 55 },
                { x: '2019-08', y: 50 },
                { x: '2019-09', y: 55 },
                { x: '2019-10', y: 59 },
                { x: '2019-11', y: 44 },
                { x: '2019-12', y: 39 },
                { x: '2020-01', y: 60 },
                { x: '2020-02', y: 57 },
                { x: '2020-03', y: 58 },
                { x: '2020-04', y: 86 },
                { x: '2020-05', y: 66 },
                { x: '2020-06', y: 64 },
                { x: '2020-07', y: 55 },
                { x: '2020-08', y: 58 },
                { x: '2020-09', y: 51 },
                { x: '2020-10', y: 48 },
                { x: '2020-11', y: 41 },
                { x: '2020-12', y: 49 },
                { x: '2021-01', y: 47 },
                { x: '2021-02', y: 60 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 81 },
                { x: '2012-03', y: 62 },
                { x: '2012-04', y: 90 },
                { x: '2012-05', y: 100 },
                { x: '2012-06', y: 57 },
                { x: '2012-07', y: 62 },
                { x: '2012-08', y: 73 },
                { x: '2012-09', y: 46 },
                { x: '2012-10', y: 55 },
                { x: '2012-11', y: 45 },
                { x: '2012-12', y: 26 },
                { x: '2013-01', y: 39 },
                { x: '2013-02', y: 54 },
                { x: '2013-03', y: 87 },
                { x: '2013-04', y: 48 },
                { x: '2013-05', y: 46 },
                { x: '2013-06', y: 32 },
                { x: '2013-07', y: 50 },
                { x: '2013-08', y: 38 },
                { x: '2013-09', y: 37 },
                { x: '2013-10', y: 49 },
                { x: '2013-11', y: 43 },
                { x: '2013-12', y: 40 },
                { x: '2014-01', y: 30 },
                { x: '2014-02', y: 54 },
                { x: '2014-03', y: 36 },
                { x: '2014-04', y: 45 },
                { x: '2014-05', y: 52 },
                { x: '2014-06', y: 44 },
                { x: '2014-07', y: 67 },
                { x: '2014-08', y: 47 },
                { x: '2014-09', y: 43 },
                { x: '2014-10', y: 37 },
                { x: '2014-11', y: 39 },
                { x: '2014-12', y: 38 },
                { x: '2015-01', y: 39 },
                { x: '2015-02', y: 44 },
                { x: '2015-03', y: 56 },
                { x: '2015-04', y: 49 },
                { x: '2015-05', y: 44 },
                { x: '2015-06', y: 41 },
                { x: '2015-07', y: 50 },
                { x: '2015-08', y: 23 },
                { x: '2015-09', y: 49 },
                { x: '2015-10', y: 59 },
                { x: '2015-11', y: 59 },
                { x: '2015-12', y: 45 },
                { x: '2016-01', y: 46 },
                { x: '2016-02', y: 56 },
                { x: '2016-03', y: 43 },
                { x: '2016-04', y: 43 },
                { x: '2016-05', y: 46 },
                { x: '2016-06', y: 31 },
                { x: '2016-07', y: 44 },
                { x: '2016-08', y: 22 },
                { x: '2016-09', y: 32 },
                { x: '2016-10', y: 36 },
                { x: '2016-11', y: 33 },
                { x: '2016-12', y: 17 },
                { x: '2017-01', y: 30 },
                { x: '2017-02', y: 44 },
                { x: '2017-03', y: 44 },
                { x: '2017-04', y: 23 },
                { x: '2017-05', y: 50 },
                { x: '2017-06', y: 45 },
                { x: '2017-07', y: 23 },
                { x: '2017-08', y: 35 },
                { x: '2017-09', y: 78 },
                { x: '2017-10', y: 51 },
                { x: '2017-11', y: 29 },
                { x: '2017-12', y: 11 },
                { x: '2018-01', y: 41 },
                { x: '2018-02', y: 38 },
                { x: '2018-03', y: 46 },
                { x: '2018-04', y: 20 },
                { x: '2018-05', y: 28 },
                { x: '2018-06', y: 30 },
                { x: '2018-07', y: 39 },
                { x: '2018-08', y: 32 },
                { x: '2018-09', y: 29 },
                { x: '2018-10', y: 31 },
                { x: '2018-11', y: 30 },
                { x: '2018-12', y: 33 },
                { x: '2019-01', y: 47 },
                { x: '2019-02', y: 40 },
                { x: '2019-03', y: 39 },
                { x: '2019-04', y: 24 },
                { x: '2019-05', y: 39 },
                { x: '2019-06', y: 34 },
                { x: '2019-07', y: 38 },
                { x: '2019-08', y: 39 },
                { x: '2019-09', y: 25 },
                { x: '2019-10', y: 42 },
                { x: '2019-11', y: 35 },
                { x: '2019-12', y: 26 },
                { x: '2020-01', y: 57 },
                { x: '2020-02', y: 34 },
                { x: '2020-03', y: 35 },
                { x: '2020-04', y: 37 },
                { x: '2020-05', y: 29 },
                { x: '2020-06', y: 43 },
                { x: '2020-07', y: 41 },
                { x: '2020-08', y: 21 },
                { x: '2020-09', y: 35 },
                { x: '2020-10', y: 31 },
                { x: '2020-11', y: 22 },
                { x: '2020-12', y: 7 },
                { x: '2021-01', y: 17 },
                { x: '2021-02', y: 40 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 57 },
                { x: '2012-03', y: 100 },
                { x: '2012-04', y: 46 },
                { x: '2012-05', y: 45 },
                { x: '2012-06', y: 51 },
                { x: '2012-07', y: 26 },
                { x: '2012-08', y: 12 },
                { x: '2012-09', y: 10 },
                { x: '2012-10', y: 28 },
                { x: '2012-11', y: 12 },
                { x: '2012-12', y: 9 },
                { x: '2013-01', y: 16 },
                { x: '2013-02', y: 15 },
                { x: '2013-03', y: 5 },
                { x: '2013-04', y: 8 },
                { x: '2013-05', y: 16 },
                { x: '2013-06', y: 8 },
                { x: '2013-07', y: 11 },
                { x: '2013-08', y: 11 },
                { x: '2013-09', y: 38 },
                { x: '2013-10', y: 31 },
                { x: '2013-11', y: 24 },
                { x: '2013-12', y: 8 },
                { x: '2014-01', y: 10 },
                { x: '2014-02', y: 16 },
                { x: '2014-03', y: 22 },
                { x: '2014-04', y: 23 },
                { x: '2014-05', y: 27 },
                { x: '2014-06', y: 12 },
                { x: '2014-07', y: 27 },
                { x: '2014-08', y: 18 },
                { x: '2014-09', y: 28 },
                { x: '2014-10', y: 24 },
                { x: '2014-11', y: 14 },
                { x: '2014-12', y: 14 },
                { x: '2015-01', y: 24 },
                { x: '2015-02', y: 14 },
                { x: '2015-03', y: 13 },
                { x: '2015-04', y: 8 },
                { x: '2015-05', y: 9 },
                { x: '2015-06', y: 15 },
                { x: '2015-07', y: 6 },
                { x: '2015-08', y: 3 },
                { x: '2015-09', y: 3 },
                { x: '2015-10', y: 8 },
                { x: '2015-11', y: 11 },
                { x: '2015-12', y: 13 },
                { x: '2016-01', y: 0 },
                { x: '2016-02', y: 11 },
                { x: '2016-03', y: 11 },
                { x: '2016-04', y: 13 },
                { x: '2016-05', y: 15 },
                { x: '2016-06', y: 16 },
                { x: '2016-07', y: 18 },
                { x: '2016-08', y: 7 },
                { x: '2016-09', y: 13 },
                { x: '2016-10', y: 13 },
                { x: '2016-11', y: 15 },
                { x: '2016-12', y: 10 },
                { x: '2017-01', y: 18 },
                { x: '2017-02', y: 30 },
                { x: '2017-03', y: 28 },
                { x: '2017-04', y: 14 },
                { x: '2017-05', y: 29 },
                { x: '2017-06', y: 30 },
                { x: '2017-07', y: 37 },
                { x: '2017-08', y: 33 },
                { x: '2017-09', y: 20 },
                { x: '2017-10', y: 14 },
                { x: '2017-11', y: 18 },
                { x: '2017-12', y: 24 },
                { x: '2018-01', y: 8 },
                { x: '2018-02', y: 20 },
                { x: '2018-03', y: 19 },
                { x: '2018-04', y: 24 },
                { x: '2018-05', y: 10 },
                { x: '2018-06', y: 19 },
                { x: '2018-07', y: 14 },
                { x: '2018-08', y: 18 },
                { x: '2018-09', y: 24 },
                { x: '2018-10', y: 23 },
                { x: '2018-11', y: 22 },
                { x: '2018-12', y: 18 },
                { x: '2019-01', y: 34 },
                { x: '2019-02', y: 32 },
                { x: '2019-03', y: 23 },
                { x: '2019-04', y: 22 },
                { x: '2019-05', y: 23 },
                { x: '2019-06', y: 26 },
                { x: '2019-07', y: 14 },
                { x: '2019-08', y: 19 },
                { x: '2019-09', y: 20 },
                { x: '2019-10', y: 28 },
                { x: '2019-11', y: 18 },
                { x: '2019-12', y: 15 },
                { x: '2020-01', y: 27 },
                { x: '2020-02', y: 36 },
                { x: '2020-03', y: 22 },
                { x: '2020-04', y: 18 },
                { x: '2020-05', y: 15 },
                { x: '2020-06', y: 13 },
                { x: '2020-07', y: 25 },
                { x: '2020-08', y: 23 },
                { x: '2020-09', y: 18 },
                { x: '2020-10', y: 27 },
                { x: '2020-11', y: 18 },
                { x: '2020-12', y: 15 },
                { x: '2021-01', y: 23 },
                { x: '2021-02', y: 9 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 53 },
                { x: '2012-03', y: 51 },
                { x: '2012-04', y: 46 },
                { x: '2012-05', y: 51 },
                { x: '2012-06', y: 52 },
                { x: '2012-07', y: 51 },
                { x: '2012-08', y: 52 },
                { x: '2012-09', y: 53 },
                { x: '2012-10', y: 65 },
                { x: '2012-11', y: 67 },
                { x: '2012-12', y: 50 },
                { x: '2013-01', y: 69 },
                { x: '2013-02', y: 56 },
                { x: '2013-03', y: 55 },
                { x: '2013-04', y: 57 },
                { x: '2013-05', y: 55 },
                { x: '2013-06', y: 56 },
                { x: '2013-07', y: 55 },
                { x: '2013-08', y: 58 },
                { x: '2013-09', y: 64 },
                { x: '2013-10', y: 91 },
                { x: '2013-11', y: 85 },
                { x: '2013-12', y: 70 },
                { x: '2014-01', y: 93 },
                { x: '2014-02', y: 74 },
                { x: '2014-03', y: 82 },
                { x: '2014-04', y: 75 },
                { x: '2014-05', y: 73 },
                { x: '2014-06', y: 74 },
                { x: '2014-07', y: 75 },
                { x: '2014-08', y: 74 },
                { x: '2014-09', y: 75 },
                { x: '2014-10', y: 97 },
                { x: '2014-11', y: 94 },
                { x: '2014-12', y: 88 },
                { x: '2015-01', y: 100 },
                { x: '2015-02', y: 79 },
                { x: '2015-03', y: 86 },
                { x: '2015-04', y: 80 },
                { x: '2015-05', y: 81 },
                { x: '2015-06', y: 96 },
                { x: '2015-07', y: 99 },
                { x: '2015-08', y: 80 },
                { x: '2015-09', y: 80 },
                { x: '2015-10', y: 93 },
                { x: '2015-11', y: 99 },
                { x: '2015-12', y: 87 },
                { x: '2016-01', y: 85 },
                { x: '2016-02', y: 72 },
                { x: '2016-03', y: 66 },
                { x: '2016-04', y: 68 },
                { x: '2016-05', y: 65 },
                { x: '2016-06', y: 67 },
                { x: '2016-07', y: 68 },
                { x: '2016-08', y: 70 },
                { x: '2016-09', y: 61 },
                { x: '2016-10', y: 77 },
                { x: '2016-11', y: 78 },
                { x: '2016-12', y: 71 },
                { x: '2017-01', y: 74 },
                { x: '2017-02', y: 66 },
                { x: '2017-03', y: 59 },
                { x: '2017-04', y: 55 },
                { x: '2017-05', y: 55 },
                { x: '2017-06', y: 59 },
                { x: '2017-07', y: 58 },
                { x: '2017-08', y: 58 },
                { x: '2017-09', y: 55 },
                { x: '2017-10', y: 74 },
                { x: '2017-11', y: 74 },
                { x: '2017-12', y: 63 },
                { x: '2018-01', y: 72 },
                { x: '2018-02', y: 68 },
                { x: '2018-03', y: 68 },
                { x: '2018-04', y: 67 },
                { x: '2018-05', y: 60 },
                { x: '2018-06', y: 64 },
                { x: '2018-07', y: 63 },
                { x: '2018-08', y: 68 },
                { x: '2018-09', y: 62 },
                { x: '2018-10', y: 86 },
                { x: '2018-11', y: 80 },
                { x: '2018-12', y: 67 },
                { x: '2019-01', y: 78 },
                { x: '2019-02', y: 73 },
                { x: '2019-03', y: 70 },
                { x: '2019-04', y: 71 },
                { x: '2019-05', y: 67 },
                { x: '2019-06', y: 72 },
                { x: '2019-07', y: 74 },
                { x: '2019-08', y: 75 },
                { x: '2019-09', y: 71 },
                { x: '2019-10', y: 95 },
                { x: '2019-11', y: 84 },
                { x: '2019-12', y: 73 },
                { x: '2020-01', y: 82 },
                { x: '2020-02', y: 76 },
                { x: '2020-03', y: 68 },
                { x: '2020-04', y: 52 },
                { x: '2020-05', y: 55 },
                { x: '2020-06', y: 68 },
                { x: '2020-07', y: 72 },
                { x: '2020-08', y: 70 },
                { x: '2020-09', y: 76 },
                { x: '2020-10', y: 94 },
                { x: '2020-11', y: 82 },
                { x: '2020-12', y: 86 },
                { x: '2021-01', y: 82 },
                { x: '2021-02', y: 76 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              borderWidth: 2,
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 70 },
                { x: '2012-03', y: 91 },
                { x: '2012-04', y: 97 },
                { x: '2012-05', y: 96 },
                { x: '2012-06', y: 82 },
                { x: '2012-07', y: 74 },
                { x: '2012-08', y: 64 },
                { x: '2012-09', y: 69 },
                { x: '2012-10', y: 76 },
                { x: '2012-11', y: 62 },
                { x: '2012-12', y: 50 },
                { x: '2013-01', y: 81 },
                { x: '2013-02', y: 54 },
                { x: '2013-03', y: 58 },
                { x: '2013-04', y: 69 },
                { x: '2013-05', y: 49 },
                { x: '2013-06', y: 68 },
                { x: '2013-07', y: 71 },
                { x: '2013-08', y: 75 },
                { x: '2013-09', y: 77 },
                { x: '2013-10', y: 52 },
                { x: '2013-11', y: 68 },
                { x: '2013-12', y: 62 },
                { x: '2014-01', y: 62 },
                { x: '2014-02', y: 71 },
                { x: '2014-03', y: 71 },
                { x: '2014-04', y: 74 },
                { x: '2014-05', y: 68 },
                { x: '2014-06', y: 64 },
                { x: '2014-07', y: 57 },
                { x: '2014-08', y: 49 },
                { x: '2014-09', y: 47 },
                { x: '2014-10', y: 62 },
                { x: '2014-11', y: 31 },
                { x: '2014-12', y: 32 },
                { x: '2015-01', y: 55 },
                { x: '2015-02', y: 96 },
                { x: '2015-03', y: 63 },
                { x: '2015-04', y: 71 },
                { x: '2015-05', y: 58 },
                { x: '2015-06', y: 68 },
                { x: '2015-07', y: 100 },
                { x: '2015-08', y: 80 },
                { x: '2015-09', y: 65 },
                { x: '2015-10', y: 73 },
                { x: '2015-11', y: 63 },
                { x: '2015-12', y: 82 },
                { x: '2016-01', y: 56 },
                { x: '2016-02', y: 83 },
                { x: '2016-03', y: 99 },
                { x: '2016-04', y: 71 },
                { x: '2016-05', y: 74 },
                { x: '2016-06', y: 69 },
                { x: '2016-07', y: 60 },
                { x: '2016-08', y: 58 },
                { x: '2016-09', y: 68 },
                { x: '2016-10', y: 53 },
                { x: '2016-11', y: 68 },
                { x: '2016-12', y: 49 },
                { x: '2017-01', y: 87 },
                { x: '2017-02', y: 79 },
                { x: '2017-03', y: 65 },
                { x: '2017-04', y: 62 },
                { x: '2017-05', y: 64 },
                { x: '2017-06', y: 70 },
                { x: '2017-07', y: 61 },
                { x: '2017-08', y: 78 },
                { x: '2017-09', y: 66 },
                { x: '2017-10', y: 59 },
                { x: '2017-11', y: 58 },
                { x: '2017-12', y: 63 },
                { x: '2018-01', y: 67 },
                { x: '2018-02', y: 53 },
                { x: '2018-03', y: 72 },
                { x: '2018-04', y: 83 },
                { x: '2018-05', y: 48 },
                { x: '2018-06', y: 43 },
                { x: '2018-07', y: 58 },
                { x: '2018-08', y: 62 },
                { x: '2018-09', y: 63 },
                { x: '2018-10', y: 89 },
                { x: '2018-11', y: 48 },
                { x: '2018-12', y: 59 },
                { x: '2019-01', y: 70 },
                { x: '2019-02', y: 68 },
                { x: '2019-03', y: 67 },
                { x: '2019-04', y: 47 },
                { x: '2019-05', y: 55 },
                { x: '2019-06', y: 60 },
                { x: '2019-07', y: 63 },
                { x: '2019-08', y: 52 },
                { x: '2019-09', y: 37 },
                { x: '2019-10', y: 33 },
                { x: '2019-11', y: 21 },
                { x: '2019-12', y: 26 },
                { x: '2020-01', y: 36 },
                { x: '2020-02', y: 39 },
                { x: '2020-03', y: 29 },
                { x: '2020-04', y: 20 },
                { x: '2020-05', y: 17 },
                { x: '2020-06', y: 21 },
                { x: '2020-07', y: 25 },
                { x: '2020-08', y: 25 },
                { x: '2020-09', y: 27 },
                { x: '2020-10', y: 21 },
                { x: '2020-11', y: 20 },
                { x: '2020-12', y: 13 },
                { x: '2021-01', y: 21 },
                { x: '2021-02', y: 19 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              borderWidth: 2,
              pointRadius: 0,
              pointHoverRadius: 0,
              yAxisID: 'B',
            },
          ],
        },
        {
          // labels: [2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021],
          datasets: [
            {
              data: [
                { x: '2012-02', y: 99 },
                { x: '2012-03', y: 96 },
                { x: '2012-04', y: 88 },
                { x: '2012-05', y: 81 },
                { x: '2012-06', y: 83 },
                { x: '2012-07', y: 66 },
                { x: '2012-08', y: 91 },
                { x: '2012-09', y: 100 },
                { x: '2012-10', y: 85 },
                { x: '2012-11', y: 60 },
                { x: '2012-12', y: 54 },
                { x: '2013-01', y: 84 },
                { x: '2013-02', y: 82 },
                { x: '2013-03', y: 63 },
                { x: '2013-04', y: 64 },
                { x: '2013-05', y: 59 },
                { x: '2013-06', y: 74 },
                { x: '2013-07', y: 62 },
                { x: '2013-08', y: 72 },
                { x: '2013-09', y: 78 },
                { x: '2013-10', y: 65 },
                { x: '2013-11', y: 63 },
                { x: '2013-12', y: 54 },
                { x: '2014-01', y: 68 },
                { x: '2014-02', y: 61 },
                { x: '2014-03', y: 54 },
                { x: '2014-04', y: 55 },
                { x: '2014-05', y: 65 },
                { x: '2014-06', y: 64 },
                { x: '2014-07', y: 75 },
                { x: '2014-08', y: 76 },
                { x: '2014-09', y: 64 },
                { x: '2014-10', y: 67 },
                { x: '2014-11', y: 48 },
                { x: '2014-12', y: 58 },
                { x: '2015-01', y: 60 },
                { x: '2015-02', y: 62 },
                { x: '2015-03', y: 64 },
                { x: '2015-04', y: 47 },
                { x: '2015-05', y: 62 },
                { x: '2015-06', y: 65 },
                { x: '2015-07', y: 72 },
                { x: '2015-08', y: 54 },
                { x: '2015-09', y: 66 },
                { x: '2015-10', y: 65 },
                { x: '2015-11', y: 58 },
                { x: '2015-12', y: 48 },
                { x: '2016-01', y: 53 },
                { x: '2016-02', y: 49 },
                { x: '2016-03', y: 58 },
                { x: '2016-04', y: 49 },
                { x: '2016-05', y: 51 },
                { x: '2016-06', y: 60 },
                { x: '2016-07', y: 44 },
                { x: '2016-08', y: 47 },
                { x: '2016-09', y: 49 },
                { x: '2016-10', y: 42 },
                { x: '2016-11', y: 40 },
                { x: '2016-12', y: 39 },
                { x: '2017-01', y: 45 },
                { x: '2017-02', y: 58 },
                { x: '2017-03', y: 62 },
                { x: '2017-04', y: 51 },
                { x: '2017-05', y: 49 },
                { x: '2017-06', y: 48 },
                { x: '2017-07', y: 46 },
                { x: '2017-08', y: 44 },
                { x: '2017-09', y: 52 },
                { x: '2017-10', y: 50 },
                { x: '2017-11', y: 50 },
                { x: '2017-12', y: 46 },
                { x: '2018-01', y: 51 },
                { x: '2018-02', y: 56 },
                { x: '2018-03', y: 61 },
                { x: '2018-04', y: 47 },
                { x: '2018-05', y: 47 },
                { x: '2018-06', y: 49 },
                { x: '2018-07', y: 48 },
                { x: '2018-08', y: 53 },
                { x: '2018-09', y: 51 },
                { x: '2018-10', y: 57 },
                { x: '2018-11', y: 44 },
                { x: '2018-12', y: 32 },
                { x: '2019-01', y: 52 },
                { x: '2019-02', y: 52 },
                { x: '2019-03', y: 52 },
                { x: '2019-04', y: 54 },
                { x: '2019-05', y: 50 },
                { x: '2019-06', y: 45 },
                { x: '2019-07', y: 47 },
                { x: '2019-08', y: 46 },
                { x: '2019-09', y: 52 },
                { x: '2019-10', y: 54 },
                { x: '2019-11', y: 40 },
                { x: '2019-12', y: 39 },
                { x: '2020-01', y: 53 },
                { x: '2020-02', y: 56 },
                { x: '2020-03', y: 44 },
                { x: '2020-04', y: 39 },
                { x: '2020-05', y: 26 },
                { x: '2020-06', y: 34 },
                { x: '2020-07', y: 39 },
                { x: '2020-08', y: 39 },
                { x: '2020-09', y: 38 },
                { x: '2020-10', y: 40 },
                { x: '2020-11', y: 30 },
                { x: '2020-12', y: 31 },
                { x: '2021-01', y: 31 },
                { x: '2021-02', y: 48 },
              ],
              label: 'Google Search Trend',
              borderColor: '#fff',
              fill: false,
              pointRadius: 0,
              pointHoverRadius: 0,
              borderWidth: 2,
              yAxisID: 'B',
            },
          ],
        },
      ],
      stockData: null,
      showLine: false,
      contractors: [
        {
          Name: 'Lockheed Martin Corp.',
          Ticker: 'LMT',
          SpendSearch: 'LOCKHEED MARTIN CORPORATION',
          Stock: null,
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'Lockheed Martin Corporation is an American aerospace, arms, defense, security, and advanced technologies company with worldwide interests. It was formed by the merger of Lockheed Corporation with Martin Marietta in March 1995. It is headquartered in North Bethesda, Maryland, in the Washington, D.C., area.',
        },
        {
          Name: 'Boeing Co.',
          Ticker: 'BA',
          SpendSearch: 'BOEING COMPANY',
          Stock: null,
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'The Boeing Company is an American multinational corporation that designs, manufactures, and sells airplanes, rotorcraft, rockets, satellites, telecommunications equipment, and missiles worldwide. The company also provides leasing and product support services.',
        },
        {
          Name: 'General Dynamics Corp.',
          Ticker: 'GD',
          Stock: null,
          SpendSearch: 'General Dynamics',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'General Dynamics Corporation is an American aerospace and defense corporation. As of 2019, it was the fifth-largest defense contractor in the United States, and the sixth-largest in the world, by sales. The company ranked No. 92 in the 2019 Fortune 500 list of the largest United States corporations by total revenue.',
        },
        {
          Name: 'Raytheon Technologies Corp.',
          Ticker: 'RTX',
          Stock: null,
          SpendSearch: 'RAYTHEON TECHNOLOGIES CORPORATION',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'Raytheon Technologies Corporation is an American multinational conglomerate headquartered in Waltham, Massachusetts. The company is one of the largest aerospace, intelligence services providers, and defense manufacturers in the world by revenue and market capitalization.',
        },
        {
          Name: 'Northrup Grumman Corp.',
          Ticker: 'NOC',
          Stock: null,
          SpendSearch: 'Northrop Grumman Corporation',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            "Northrop Grumman Corporation is an American global aerospace and defense technology company. With 90,000 employees and an annual revenue in excess of $30 billion, it is one of the world's largest weapons manufacturers and military technology providers.",
        },
        {
          Name: 'Huntington Ingalls Industries Inc.',
          Ticker: 'HII',
          Stock: null,
          SpendSearch: 'Huntington Ingalls',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'Huntington Ingalls Industries is America’s largest military shipbuilding company and a provider of professional services to partners in government and industry. HII, ranked No. 371 on the Fortune 500, was formed on March 31, 2011, as a spin-off of Northrop Grumman.',
        },
        {
          Name: 'Humana Inc.',
          Ticker: 'HUM',
          Stock: null,
          SpendSearch: 'Humana',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'Humana Inc. is a for-profit American health insurance company based in Louisville, Kentucky. As of 2020 Humana had over 20 million members in the U.S., reported a 2019 revenue of US$56.9 billion, and had 46,000 employees.',
        },
        {
          Name: 'Harris Corp.',
          Ticker: 'LHX',
          Stock: null,
          SpendSearch: 'Harris Corporation',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'Harris Corporation was an American technology company, defense contractor, and information technology services provider that produced wireless equipment, tactical radios, electronic systems, night vision equipment and both terrestrial and spaceborne antennas for use in the government, defense and commercial sectors.',
        },
        {
          Name: 'BAE Systems Plc',
          Ticker: 'BAESY',
          Stock: null,
          SpendSearch: 'BAE Systems',
          Budget: null,
          Trend1: null,
          Pearson1: null,
          Trend2: null,
          Pearson2: null,
          Text:
            'BAE Systems plc is a British multinational arms, security, and aerospace company. Its headquarters are in London and Farnborough in the United Kingdom with operations worldwide.',
        },
      ],
    }
  },
  async fetch() {
    let i = 0
    while (i < 9) {
      const searchBody = {
        group: 'quarter',
        filters: {
          time_period: [
            {
              start_date: '2012-10-01',
              end_date: '2013-09-30',
            },
            {
              start_date: '2013-10-01',
              end_date: '2014-09-30',
            },
            {
              start_date: '2014-10-01',
              end_date: '2015-09-30',
            },
            {
              start_date: '2015-10-01',
              end_date: '2016-09-30',
            },
            {
              start_date: '2016-10-01',
              end_date: '2017-09-30',
            },
            {
              start_date: '2017-10-01',
              end_date: '2018-09-30',
            },
            {
              start_date: '2018-10-01',
              end_date: '2019-09-30',
            },
            {
              start_date: '2019-10-01',
              end_date: '2020-09-30',
            },
            {
              start_date: '2020-10-01',
              end_date: '2021-09-30',
            },
            {
              start_date: '2011-10-01',
              end_date: '2012-09-30',
            },
          ],
          award_type_codes: ['A', 'B', 'C', 'D'],
          agencies: [
            {
              type: 'awarding',
              tier: 'toptier',
              name: 'Department of Defense',
            },
          ],
          recipient_search_text: [this.contractors[i].SpendSearch],
        },
        subawards: false,
        auditTrail: 'Spending Over Time Visualization',
      }
      if (i === 3) {
        this.contractors[i].Budget = await fetch(
          'https://api.usaspending.gov/api/v2/search/spending_over_time/',
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(searchBody),
          }
        )
          .then((response) => {
            const stuff = response.json()
            console.log(stuff)
            return stuff
          })
          .catch((err) => {
            console.error(err)
          })
        i++
      } else {
        this.contractors[i].Budget = await fetch(
          'https://api.usaspending.gov/api/v2/search/spending_over_time/',
          {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(searchBody),
          }
        )
          .then((response) => {
            console.log(response)
            const stuff = response.json()
            return stuff
          })
          .catch((err) => {
            console.error(err)
          })
        this.contractors[i].Stock = await fetch(
          'https://apidojo-yahoo-finance-v1.p.rapidapi.com/stock/get-histories?symbol=' +
            this.contractors[i].Ticker +
            '&from=1329963601&to=1614030886&events=div&interval=3mo&region=US',
          {
            method: 'GET',
            headers: {
              'x-rapidapi-key':
                '17176c73c3msh3d561b1bcc5d537p1ba3aejsna621c96c8601',
              'x-rapidapi-host': 'apidojo-yahoo-finance-v1.p.rapidapi.com',
            },
          }
        )
          .then((response) => {
            const stuff = response.json()
            console.log(stuff)
            return stuff
          })
          .catch((err) => {
            console.error(err)
          })
        i++
      }
    }
  },
  fetchOnServer: true,
  mounted() {
    console.log(this.contractors[3].Stock)
    // eslint-disable-next-line no-unused-vars
    const vm = this
    this.contractors.forEach((v, i) => {
      console.log(v)
      const data = {
        data: [
          { x: '2012-02', y: 42.55 },
          { x: '2012-05', y: 38.78 },
          { x: '2012-08', y: 40.48 },
          { x: '2012-11', y: 41.42 },
          { x: '2013-02', y: 47.14 },
          { x: '2013-05', y: 49.7 },
          { x: '2013-08', y: 48.95 },
          { x: '2013-11', y: 57.07 },
          { x: '2014-02', y: 62.28 },
          { x: '2014-05', y: 62.18 },
          { x: '2014-08', y: 57.1 },
          { x: '2014-11', y: 62.53 },
          { x: '2015-02', y: 64.07 },
          { x: '2015-05', y: 60.97 },
          { x: '2015-08', y: 49.23 },
          { x: '2015-11', y: 53.49 },
          { x: '2016-02', y: 53.8 },
          { x: '2016-05', y: 56.42 },
          { x: '2016-08', y: 57.91 },
          { x: '2016-11', y: 57.72 },
          { x: '2017-02', y: 64.34 },
          { x: '2017-05', y: 68.42 },
          { x: '2017-08', y: 67.52 },
          { x: '2017-11', y: 74.65 },
          { x: '2018-02', y: 74.03 },
          { x: '2018-05', y: 73.98 },
          { x: '2018-08', y: 83.17 },
          { x: '2018-11', y: 63.71 },
          { x: '2019-02', y: 77.57 },
          { x: '2019-05', y: 78.79 },
          { x: '2019-08', y: 83.11 },
          { x: '2019-11', y: 91.63 },
          { x: '2020-02', y: 57.99 },
          { x: '2020-05', y: 60.72 },
          { x: '2020-08', y: 57.12 },
          { x: '2020-11', y: 71.51 },
          { x: '2021-02', y: 73 },
        ],
        label: 'Test',
        borderColor: '#0045e6',
        backgroundColor: '#0045e6',
        fill: false,
        lineTension: 0,
        pointRadius: 2.5,
        yAxisID: 'A',
      }
      data.label = v.Ticker + ' Stock Price'
      if (i !== 3) {
        data.data.forEach((p, i) => {
          p.y = v.Stock.chart.result[0].indicators.adjclose[0].adjclose[
            i
          ].toFixed(2)
        })
      }
      this.lineData[i].datasets.push(data)
      const data2 = {
        data: null,
        label: 'Allocated Obligations',
        type: 'bar',
        yAxisID: 'C',
        // borderColor: '#6f6f6f',
        backgroundColor: '#dcdcdc33',
        // borderWidth: 1,
      }
      const dateMoney = []
      v.Budget.results.forEach(function (k) {
        let dateDate = k.time_period.fiscal_year
        switch (k.time_period.quarter) {
          case '1':
            dateDate = dateDate + '-02'
            break
          case '2':
            dateDate = dateDate + '-05'
            break
          case '3':
            dateDate = dateDate + '-08'
            break
          case '4':
            dateDate = dateDate + '-11'
            break
        }
        dateMoney.push({
          x: dateDate,
          y: k.aggregated_amount,
        })
      })
      data2.data = _.dropRight(dateMoney, 3)
      this.lineData[i].datasets.push(data2)
      // eslint-disable-next-line no-console
      console.log(this.lineData)
    })
    this.lineData.forEach(function (b, i) {
      const interpolatedTrend = vm.interpolateArray(
        b.datasets[0].data.map((a) => a.y),
        37
      )

      b.datasets[1].data.forEach(function (z, c) {
        vm.scatterData1[i].datasets[0].data.push({
          x: interpolatedTrend[c],
          y: z.y,
        })
        vm.scatterData2[i].datasets[0].data.push({
          x: z.y,
          y: b.datasets[2].data[c].y,
        })
      })
      //  console.log(
      //    vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.x))
      //  )
      //  console.log(
      //    vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.y))
      //  )
      //  console.log(
      //    vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.x))
      //  )
      //  console.log(
      //    vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.y))
      //  )
      const correlationCoefficient1 = vm.getPearsonCorrelation(
        vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.x)),
        vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.y))
      )
      // eslint-disable-next-line no-console
      console.log(correlationCoefficient1)
      vm.contractors[i].Pearson1 = parseFloat(correlationCoefficient1).toFixed(
        2
      )
      vm.contractors[i].Trend1 =
        Math.sign(correlationCoefficient1) === -1 ? 'Negative' : 'Positive'
      //  if (Math.sign(correlationCoefficient1) === -1) {
      //    vm.scatterData1[i].datasets.borderColor = '#ff1900'
      //  }
      const correlationCoefficient2 = vm.getPearsonCorrelation(
        vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.x)),
        vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.y))
      )
      // eslint-disable-next-line no-console
      console.log(correlationCoefficient2)
      vm.contractors[i].Pearson2 = parseFloat(correlationCoefficient2).toFixed(
        2
      )
      vm.contractors[i].Trend2 =
        Math.sign(correlationCoefficient2) === -1 ? 'Negative' : 'Positive'
      //  if (Math.sign(correlationCoefficient2) === -1) {
      //    vm.scatterData2[i].datasets.borderColor = '#ff1900'
      //  }
      const bestLine1 = vm.findLineByLeastSquares(
        vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.x)),
        vm.scatterData1[i].datasets[0].data.map((a) => parseFloat(a.y))
      )
      // eslint-disable-next-line no-console
      console.log(bestLine1)
      const bestLine1data = []
      bestLine1[0].forEach(function (c, i) {
        bestLine1data.push({ x: c, y: bestLine1[1][i] })
      })
      vm.scatterData1[i].datasets.push({
        data: bestLine1data,
        type: 'line',
        pointRadius: 0,
        borderWidth: 2,
        fill: false,
        borderColor:
          Math.sign(correlationCoefficient1) === -1 ? '#ff1900' : '#00ff9f',
      })
      const bestLine2 = vm.findLineByLeastSquares(
        vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.x)),
        vm.scatterData2[i].datasets[0].data.map((a) => parseFloat(a.y))
      )
      // eslint-disable-next-line no-console
      console.log(bestLine2)
      const bestLine2data = []
      bestLine2[0].forEach(function (c, i) {
        bestLine2data.push({ x: c, y: bestLine2[1][i] })
      })
      vm.scatterData2[i].datasets.push({
        data: bestLine2data,
        type: 'line',
        pointRadius: 0,
        borderWidth: 2,
        fill: false,
        borderColor:
          Math.sign(correlationCoefficient2) === -1 ? '#ff1900' : '#00ff9f',
      })
    })
    this.showLine = true
    // showLine will only be set to true on the client. This keeps the DOM-tree in sync.
  },
  methods: {
    findLineByLeastSquares(valuesX, valuesY) {
      let sumX = 0
      let sumY = 0
      let sumXy = 0
      let sumXx = 0
      let count = 0
      let x = 0
      let y = 0
      const valuesLength = valuesX.length
      if (valuesLength !== valuesY.length) {
        throw new Error(
          'The parameters valuesX and valuesY need to have same size!'
        )
      }
      if (valuesLength === 0) {
        return [[], []]
      }
      for (let v = 0; v < valuesLength; v++) {
        x = valuesX[v]
        y = valuesY[v]
        sumX += x
        sumY += y
        sumXx += x * x
        sumXy += x * y
        count++
      }
      const m = (count * sumXy - sumX * sumY) / (count * sumXx - sumX * sumX)
      const b = sumY / count - (m * sumX) / count
      const resultX = []
      const resultY = []
      for (let v = 0; v < valuesLength; v++) {
        x = valuesX[v]
        y = x * m + b
        resultX.push(x)
        resultY.push(y)
      }

      return [resultX, resultY]
    },
    getPearsonCorrelation(x, y) {
      let shortestArrayLength = 0

      if (x.length === y.length) {
        shortestArrayLength = x.length
      } else if (x.length > y.length) {
        shortestArrayLength = y.length
        // eslint-disable-next-line no-console
        console.error(
          'x has more items in it, the last ' +
            (x.length - shortestArrayLength) +
            ' item(s) will be ignored'
        )
      } else {
        shortestArrayLength = x.length
        // eslint-disable-next-line no-console
        console.error(
          'y has more items in it, the last ' +
            (y.length - shortestArrayLength) +
            ' item(s) will be ignored'
        )
      }

      const xy = []
      const x2 = []
      const y2 = []

      for (let i = 0; i < shortestArrayLength; i++) {
        xy.push(x[i] * y[i])
        x2.push(x[i] * x[i])
        y2.push(y[i] * y[i])
      }

      let sumX = 0
      let sumY = 0
      let sumXy = 0
      let sumX2 = 0
      let sumY2 = 0

      for (let i = 0; i < shortestArrayLength; i++) {
        sumX += x[i]
        sumY += y[i]
        sumXy += xy[i]
        sumX2 += x2[i]
        sumY2 += y2[i]
      }

      const step1 = shortestArrayLength * sumXy - sumX * sumY
      const step2 = shortestArrayLength * sumX2 - sumX * sumX
      const step3 = shortestArrayLength * sumY2 - sumY * sumY
      const step4 = Math.sqrt(step2 * step3)
      const answer = step1 / step4

      return answer
    },
    interpolateArray(data, fitCount) {
      const linearInterpolate = function (before, after, atPoint) {
        return before + (after - before) * atPoint
      }
      // eslint-disable-next-line no-array-constructor
      const newData = new Array()
      // eslint-disable-next-line no-new-wrappers
      const springFactor = new Number((data.length - 1) / (fitCount - 1))
      newData[0] = data[0] // for new allocation
      for (let i = 1; i < fitCount - 1; i++) {
        const tmp = i * springFactor
        // eslint-disable-next-line no-new-wrappers
        const before = new Number(Math.floor(tmp)).toFixed()
        // eslint-disable-next-line no-new-wrappers
        const after = new Number(Math.ceil(tmp)).toFixed()
        const atPoint = tmp - before
        newData[i] = linearInterpolate(data[before], data[after], atPoint)
      }
      newData[fitCount - 1] = data[data.length - 1] // for new allocation
      return newData
    },
  },
  // #ffb700
}
</script>

<style>
/* Sample `apply` at-rules with Tailwind CSS
.container {
@apply min-h-screen flex justify-center items-center text-center mx-auto;
}
*/
body {
  background: #060019;
  color: #dedede;
  font-size: 14px;
}
h1 {
  font-family: 'Libre Barcode 39 Text', Sans-Serif;
  font-size: 54px;
  color: #ffd300;
}
.subhead {
  font-family: 'Libre Barcode 39 Text', Sans-Serif;
  font-size: 38px;
  color: #fff;
  padding-right: 18px;
}
a {
  background: #ffd300;
  color: #000;
  padding-left: 2px;
  padding-right: 2px;
}
</style>
